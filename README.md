# Calendar Bot - Mattermost to CalDAV Bot

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/docker-enabled-blue.svg)](https://www.docker.com/)

–ù–∞–¥–µ–∂–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ–π –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Mattermost-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∞–º–∏ —á–µ—Ä–µ–∑ Mail.ru CalDAV. –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π.

## üÜï –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ 1.0

- ‚è±Ô∏è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –æ—Ç–º–µ—Ç–∫–∞–º `:00`, —á—Ç–æ–±—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ —Ä–æ–≤–Ω–æ –∫ –Ω–∞—á–∞–ª—É –º–∏–Ω—É—Ç
- üîÅ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á –¥–∞–∂–µ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö CalDAV
- üßæ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –ª–æ–∫–∞—Ü–∏–∏ –±–µ–∑ `\n`/`\t` –≤ —Ç–µ–∫—Å—Ç–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- üß™ –∫–Ω–æ–ø–∫–∞ RAW CalDAV –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∫–∞–ª–µ–Ω–¥–∞—Ä—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üí¨ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Å –±—ã—Å—Ç—Ä—ã–º–∏ –¥–∞—Ç–∞–º–∏/–≤—Ä–µ–º–µ–Ω–µ–º –∏ –∫–Ω–æ–ø–∫–æ–π –æ—Ç–º–µ–Ω—ã –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - Email + –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Mail.ru CalDAV
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å—Ç—Ä–µ—á** - –í—Å–µ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –∏ —Ç–µ–∫—É—â–∏–µ –≤—Å—Ç—Ä–µ—á–∏
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á** - –ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ–± –æ—Ç–º–µ–Ω–µ, –ø–µ—Ä–µ–Ω–æ—Å–µ –∏ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á–∞—Ö  
- ‚úÖ **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** - –ø–µ—Ä–µ–¥ –≤—Å—Ç—Ä–µ—á–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞ 15 –º–∏–Ω—É—Ç)
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (Fernet)
- ‚úÖ **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SQLite

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Docker & Docker Compose
- Mattermost —Å–µ—Ä–≤–µ—Ä (v5.0+)
- –î–æ—Å—Ç—É–ø –∫ Mail.ru –∫–∞–ª–µ–Ω–¥–∞—Ä—é (CalDAV)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/tomas1pit/loop_calendar_bot.git
cd loop_calendar_bot
```

### 2. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `.env` —Ñ–∞–π–ª:

```env
MATTERMOST_BASE_URL=https://your-mattermost.com
MATTERMOST_BOT_TOKEN=your_bot_token_here
MM_ACTIONS_URL=https://your-actions-url.com
CALDAV_BASE_URL=https://calendar.mail.ru
ENCRYPTION_KEY=your_encryption_key_here
TZ=Europe/Moscow
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
# –° Docker Compose
docker-compose up -d

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é (—Ç—Ä–µ–±—É–µ—Ç Python 3.11+)
pip install -r requirements.txt
python bot.py
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –ù–∞–ø–∏—à–∏—Ç–µ `@calendar_bot` –≤ –ª–∏—á–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ Mattermost
2. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ Mail.ru
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ https://account.mail.ru/user/2-step-auth/passwords/
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å –±–æ—Ç—É

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏:

- üìÖ **–í—Å–µ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è** - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á –¥–Ω—è
- ‚è±Ô∏è **–¢–µ–∫—É—â–∏–µ –≤—Å—Ç—Ä–µ—á–∏** - –≤—Å—Ç—Ä–µ—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—è—Ç —Å–µ–π—á–∞—Å –∏ –±—É–¥—É—â–∏–µ –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è
- ‚ûï **–°–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É** - –ø–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è
- üö™ **–†–∞–∑–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è** - —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏

–°–ª–µ–¥—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É:

1. **–ù–∞–∑–≤–∞–Ω–∏–µ** - —É–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏
2. **–î–∞—Ç–∞** - –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É (—Ñ–æ—Ä–º–∞—Ç: DD.MM.YYYY)
3. **–í—Ä–µ–º—è** - —É–∫–∞–∂–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (—Ñ–æ—Ä–º–∞—Ç: HH:MM, 24-—á–∞—Å–æ–≤–æ–π)
4. **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–∏–Ω—É—Ç—ã –≤—Å—Ç—Ä–µ—á–∏
5. **–£—á–∞—Å—Ç–Ω–∏–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ @username –∏–ª–∏ email@example.com
6. **–û–ø–∏—Å–∞–Ω–∏–µ** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–≤–µ—Å—Ç–∫–∞ –≤—Å—Ç—Ä–µ—á–∏
7. **–ú–µ—Å—Ç–æ** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–∑–≤–æ–Ω –∏–ª–∏ –ª–æ–∫–∞—Ü–∏—è

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
calendar_bot/
‚îú‚îÄ‚îÄ bot.py                      # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot_logic.py                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ database.py                 # –ú–æ–¥–µ–ª–∏ –ë–î (SQLAlchemy)
‚îú‚îÄ‚îÄ encryption.py               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º (Fernet)
‚îú‚îÄ‚îÄ mattermost_manager.py       # API –∫–ª–∏–µ–Ω—Ç Mattermost
‚îú‚îÄ‚îÄ caldav_manager.py           # –ú–µ–Ω–µ–¥–∂–µ—Ä CalDAV (Mail.ru)
‚îú‚îÄ‚îÄ notification_manager.py     # –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ ui_messages.py              # –°–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–Ω–æ–ø–∫–∏ UI
‚îú‚îÄ‚îÄ web_handler.py              # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏–π
‚îú‚îÄ‚îÄ ws_listener.py              # WebSocket —Å–ª—É—à–∞—Ç–µ–ª—å Mattermost
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ generate_key.py             # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–ª—é—á–µ–π —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ init_db.py                  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –ë–î
‚îú‚îÄ‚îÄ .env.example                # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore                  # Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|---------|:-----------:|:----------:|
| `MATTERMOST_BASE_URL` | URL Mattermost —Å–µ—Ä–≤–µ—Ä–∞ | ‚úÖ | - |
| `MATTERMOST_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Mattermost | ‚úÖ | - |
| `MM_ACTIONS_URL` | URL –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π | ‚úÖ | - |
| `CALDAV_BASE_URL` | URL CalDAV —Å–µ—Ä–≤–µ—Ä–∞ | ‚ùå | `https://calendar.mail.ru` |
| `ENCRYPTION_KEY` | Base64 –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è Fernet | ‚úÖ | - |
| `TZ` | –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ | ‚ùå | `Europe/Moscow` |
| `DB_PATH` | –ü—É—Ç—å –∫ –ë–î SQLite | ‚ùå | `/data/calendar_bot.db` |
| `CHECK_INTERVAL` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫) | ‚ùå | `60` |
| `REMINDER_MINUTES` | –ú–∏–Ω—É—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | ‚ùå | `15` |

## üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ENCRYPTION_KEY

```bash
python generate_key.py
```

–ò–ª–∏:

```bash
python -c "from encryption import EncryptionManager; print(EncryptionManager.generate_key())"
```

## üê≥ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –° Docker Compose

```bash
# –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–∑ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f loop-calendar-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker-compose down
```

### –° Portainer Stacks

1. –û—Ç–∫—Ä–æ–π—Ç–µ Portainer
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Stacks
3. Create Stack
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `docker-compose.yml`
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ Environment
6. Deploy

## üìä API Endpoints

–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:

- **WebSocket —Å–æ–±—ã—Ç–∏—è** –æ—Ç Mattermost
- **HTTP POST /actions** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫

## üìÅ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### User
```python
- mattermost_id: str (primary key)
- email: str (unique)
- encrypted_password: str
- created_at: datetime
- updated_at: datetime
```

### UserState
```python
- mattermost_id: str (primary key)
- state: str (–¥–∏–∞–ª–æ–≥–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- data: JSON (–¥–∞–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∞)
- message_id: str (ID —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
```

### MeetingCache
```python
- id: int (primary key)
- user_id: str
- uid: str (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–æ–±—ã—Ç–∏—è)
- title: str
- start_time: datetime
- end_time: datetime
- status: str (CONFIRMED, CANCELLED, TENTATIVE)
- hash_value: str (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** - Fernet (—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ª–æ–≥–∏—Ä—É–µ–º –ø–∞—Ä–æ–ª–∏** - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –í—Å–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ .env
- **HTTPS** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è production

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ Mattermost
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à DirectMessage –∫–∞–Ω–∞–ª
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs loop-calendar-bot`

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ CalDAV
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –Ω–∞ https://account.mail.ru/user/2-step-auth/passwords/
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å https://calendar.mail.ru

### –ë–î –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/data`
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ë–î: `python init_db.py`

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ stdout. –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

```bash
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
docker-compose logs loop-calendar-bot > bot.log
```

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–æ—Ç–∞

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Mattermost –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
2. **WebSocket —Å–ª—É—à–∞—Ç–µ–ª—å** - –û–∂–∏–¥–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
3. **HTTP —Å–µ—Ä–≤–µ—Ä** - –ü—Ä–∏–µ–º –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –∫–Ω–æ–ø–æ–∫ (–ø–æ—Ä—Ç 8080)
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - –ö–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) —Å—Ç—Ä–æ–≥–æ –Ω–∞ –æ—Ç–º–µ—Ç–∫–∞—Ö `:00`
5. **–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** - 15 –º–∏–Ω—É—Ç –¥–æ –≤—Å—Ç—Ä–µ—á–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º pull requests! –î–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [Issues](../../issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–í–µ—Ä—Å–∏—è:** 1.0.0 ¬∑ —Å–º. —Ç–µ–≥ `v1.0.0` –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–µ–ª–∏–∑–∞.
